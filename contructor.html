<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>

let movies=[
  {title:"doctor strange",year:2022},
  {title:"avatar",year:2009}
];
function getpost(){
  setTimeout(() => {
    let output ='';
    movies.forEach((v,index)=>{
      output +=`<li>The ${v.title} in ${v.year}</li>`
      document.body.innerHTML=output
    })
  },1000);
};
function createPost(newMovie) {
return new Promise((resolve,reject)=>{
  setTimeout(() => {
   movies.push(newMovie);
   
   const err = false;
   if (!err){
     resolve();
   }
   else{
     reject("error :something is wrong")
   }
  },500);
})
}
createPost({title:"spiderMan",year:2022})
.then(getpost)
.catch(err => console.log(err));

    </script>
  </body>
</html>
